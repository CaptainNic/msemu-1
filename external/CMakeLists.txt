if (NOT EXISTS "${CMAKE_CURRENT_SOURCE_DIR}/sdl2/CMakeLists.txt")
    message(FATAL_ERROR "submodule sdl2 is not initialized!")
endif ()
add_subdirectory(sdl2)
file(GLOB_RECURSE SDL2_INCLUDES "sdl2/include/*")
file(COPY ${SDL2_INCLUDES} DESTINATION "${CMAKE_BINARY_DIR}/include/SDL2")

if (NOT EXISTS "${CMAKE_CURRENT_SOURCE_DIR}/z80ex/CMakeLists.txt")
    message(FATAL_ERROR "submodule z80ex is not initialized!")
endif ()
add_subdirectory(z80ex)
file(GLOB_RECURSE Z80EX_INCLUDES "z80ex/include/*")
file(COPY ${Z80EX_INCLUDES} DESTINATION "${CMAKE_BINARY_DIR}/include/z80ex")